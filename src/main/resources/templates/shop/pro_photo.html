<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>写真ギャラリー</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
	<link rel="stylesheet" th:href="@{/css/jquery.bsPhotoGallery.css}">
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
	<script th:src="@{/js/jquery.bsPhotoGallery.js}"></script>
	<script src="https://cdn.jsdelivr.net/npm/bs-custom-file-input/dist/bs-custom-file-input.min.js"></script>
	<script th:src="@{/js/photo.js}"></script>
    <script>
    //ギャラリープラグインの初期化
	$(document).ready(function(){
		$('ul.first').bsPhotoGallery({
			"classes" : "col-xl-3 col-lg-2 col-md-4 col-sm-4",
			"hasModal" : true,
			"shortText" : false
		});
	});
    //カスタムファイルインプットの初期化
	$(document).ready(function () {
		bsCustomFileInput.init()
	});
    </script>
</head>
<body>
    <div class="container">
    <div id="contents">

	<div th:replace="shop/pro_menu"></div>

	<div class="row mt-3" style="background-color: #f5f5f5">
	<div class="col">
	<h3>写真アップロード</h3>

	<form action="#" th:action="@{/product/upload}" th:method="POST" enctype="multipart/form-data">

	<div class="form-row">

	<div class="form-group col-lg-9 col-md-6">
	<input type="file" name="upload" id="upload" accept="image/*" class="custom-file custom-file-input">
	<label for="upload" class="custom-file-label" data-browse="参照">ファイル選択</label>
	</div>

	<div class="form-group col-3">
	<button type="submit" class="btn btn-primary">アップロード</button>
	</div>

	</div>
	</form>

	</div><!--.col-->
	</div><!--.row-->

    <div class="row mt-3" style="background-color: #f5f5f5">
	<div class="col">
	<h3>ギャラリー</h3>

	<ul class="row first">
	<li th:each="picture:${photoChunk}"><img th:alt="${picture}" th:src="'http://127.0.0.1/webshop/img/product/' + ${picture}"></li>
	</ul>

	</div><!--.col-->
	</div><!--.row-->

    </div><!--#contents-->
    </div><!--.container-->

</body>
</html>